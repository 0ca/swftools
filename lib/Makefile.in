top_builddir = ..
srcdir = @srcdir@
top_srcdir = @top_srcdir@
include ../Makefile.common

@SET_MAKE@

all: librfxswf.a

lame_objects =  lame/psymodel.o lame/fft.o lame/newmdct.o lame/quantize.o lame/takehiro.o lame/reservoir.o lame/quantize_pvt.o lame/vbrquantize.o lame/encoder.o lame/id3tag.o lame/version.o lame/tables.o lame/util.o lame/bitstream.o lame/set_get.o lame/VbrTag.o lame/lame.o
rfxswf_modules =  modules/swfbits.c modules/swfaction.c modules/swfdump.c modules/swfcgi.c modules/swfbutton.c modules/swftext.c modules/swftools.c modules/swfsound.c modules/swfshape.c modules/swfobject.c

%.o: %.c
	$(C) $< -o $@

rfxswf.o: rfxswf.c rfxswf.h bitio.h log.h $(rfxswf_modules)

$(lame_objects):
	cd lame;make all;cd ..

librfxswf.a: rfxswf.o bitio.o log.o $(lame_objects)
	$(AR) r librfxswf.a rfxswf.o bitio.o log.o $(lame_objects)
	$(RANLIB) librfxswf.a

install:
uninstall:

clean: 
	rm -f *.o *.lo *.a *.la
	cd lame;make clean;cd ..

