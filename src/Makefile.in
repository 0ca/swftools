top_builddir = ..
srcdir = @srcdir@
top_srcdir = @top_srcdir@
include ../Makefile.common

programs = wav2swf png2swf swfcombine swfstrings swfextract swfdump @JPEG2SWF@

all: $(programs)

%.o: %.c
	$(C) $< -o $@

wav2swf.o: wav2swf.c wav.h

wav2swf: wav2swf.o wav.o
	$(L) wav2swf.o wav.o -o wav2swf ../lib/librfxswf.a $(LIBS)

png2swf: png2swf.o
	$(L) png2swf.o -o png2swf ../lib/librfxswf.a $(LIBS) 

swfcombine: swfcombine.o
	$(L) swfcombine.o -o swfcombine ../lib/librfxswf.a $(LIBS) 

swfextract: swfextract.o
	$(L) swfextract.o -o swfextract ../lib/librfxswf.a $(LIBS) 

swfstrings: swfstrings.o
	$(L) swfstrings.o -o swfstrings ../lib/librfxswf.a $(LIBS) 

jpeg2swf: jpeg2swf.o
	$(L) jpeg2swf.o -o jpeg2swf ../lib/librfxswf.a $(LIBS) 

install:
	$(mkinstalldirs) $(bindir)
	$(mkinstalldirs) $(man1dir)
	@for file in $(programs); do $(INSTALL_BIN);$(INSTALL_MAN1);done
	
uninstall:
	@for file in $(programs); do $(UNINSTALL_BIN);$(UNINSTALL_MAN1);done

clean: 
	rm -f *.o *.lo *.a *.la wav2swf png2swf swfcombine swfextract swfstrings png2swf jpeg2swf *~

